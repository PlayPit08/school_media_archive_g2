{% extends 'base.html' %}

{% block title %}–ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ - –§–æ—Ç–æ–∞—Ä—Ö–∏–≤ —à–∫–æ–ª—ã ‚Ññ2086{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 class="page-title" style="margin-bottom: 0;">–ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h1>
        <a href="{% url 'profile' %}" class="btn" style="background: #6c757d; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none;">
            ‚Üê –í –∫–∞–±–∏–Ω–µ—Ç
        </a>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); text-align: center;">
            <div style="font-size: 24px; color: #ffc107; margin-bottom: 5px;">{{ pending_years.count }}</div>
            <div style="color: #666; font-size: 14px;">–£—á–µ–±–Ω—ã–µ –≥–æ–¥—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); text-align: center;">
            <div style="font-size: 24px; color: #ffc107; margin-bottom: 5px;">{{ pending_classes.count }}</div>
            <div style="color: #666; font-size: 14px;">–ö–ª–∞—Å—Å—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); text-align: center;">
            <div style="font-size: 24px; color: #ffc107; margin-bottom: 5px;">{{ pending_events.count }}</div>
            <div style="color: #666; font-size: 14px;">–°–æ–±—ã—Ç–∏—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); text-align: center;">
            <div style="font-size: 24px; color: #ffc107; margin-bottom: 5px;">{{ pending_photos.count }}</div>
            <div style="color: #666; font-size: 14px;">–§–æ—Ç–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
        </div>
    </div>

    <!-- –£—á–µ–±–Ω—ã–µ –≥–æ–¥—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
    {% if pending_years %}
    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 30px;">
        <h2 style="color: #cb5603; margin-bottom: 20px;">üìÖ –£—á–µ–±–Ω—ã–µ –≥–æ–¥—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h2>
        {% for year in pending_years %}
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h4 style="margin: 0 0 5px 0; color: #333;">{{ year.year }}</h4>
                    <p style="margin: 0; color: #666; font-size: 14px;">
                        –°–æ–∑–¥–∞–ª: {{ year.created_by.username }} ‚Ä¢ {{ year.created_at|date:"d.m.Y H:i" }}
                    </p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmApprove('year', {{ year.id }}, '{{ year.year }}')"
                            style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                    </button>
                    <button onclick="confirmReject('year', {{ year.id }}, '{{ year.year }}')"
                            style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- –ö–ª–∞—Å—Å—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
    {% if pending_classes %}
    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 30px;">
        <h2 style="color: #cb5603; margin-bottom: 20px;">üè´ –ö–ª–∞—Å—Å—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h2>
        {% for class in pending_classes %}
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h4 style="margin: 0 0 5px 0; color: #333;">{{ class.class_name }}</h4>
                    <p style="margin: 0; color: #666; font-size: 14px;">
                        –£—á–µ–±–Ω—ã–π –≥–æ–¥: {{ class.year_album.year }} ‚Ä¢
                        –°–æ–∑–¥–∞–ª: {{ class.created_by.username }} ‚Ä¢ {{ class.created_at|date:"d.m.Y H:i" }}
                    </p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmApprove('class', {{ class.id }}, '{{ class.class_name }}')"
                            style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                    </button>
                    <button onclick="confirmReject('class', {{ class.id }}, '{{ class.class_name }}')"
                            style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- –°–æ–±—ã—Ç–∏—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
    {% if pending_events %}
    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 30px;">
        <h2 style="color: #cb5603; margin-bottom: 20px;">üìù –°–æ–±—ã—Ç–∏—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h2>
        {% for event in pending_events %}
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h4 style="margin: 0 0 5px 0; color: #333;">{{ event.title }}</h4>
                    <p style="margin: 0; color: #666; font-size: 14px;">
                        –ö–ª–∞—Å—Å: {{ event.school_class.class_name }} ‚Ä¢
                        –£—á–µ–±–Ω—ã–π –≥–æ–¥: {{ event.school_class.year_album.year }} ‚Ä¢
                        –°–æ–∑–¥–∞–ª: {{ event.created_by.username }} ‚Ä¢ {{ event.created_at|date:"d.m.Y H:i" }}
                    </p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmApprove('event', {{ event.id }}, '{{ event.title }}')"
                            style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                    </button>
                    <button onclick="confirmReject('event', {{ event.id }}, '{{ event.title }}')"
                            style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- –§–æ—Ç–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
    {% if pending_photos %}
    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 30px;">
        <h2 style="color: #cb5603; margin-bottom: 20px;">üì∑ –§–æ—Ç–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h2>
        {% for photo in pending_photos %}
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    {% if photo.image %}
                    <div style="position: relative;">
                        <img src="{{ photo.image.url }}" alt="–§–æ—Ç–æ {{ photo.id }}"
                             style="width: 120px; height: 120px; object-fit: cover; border-radius: 6px; cursor: pointer; transition: all 0.3s ease;"
                             onclick="openModerationPhoto({{ forloop.counter0 }})"
                             onmouseover="this.style.transform='scale(1.05)'"
                             onmouseout="this.style.transform='scale(1)'">
                        <div style="position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px;">
                            üîç –ü—Ä–æ—Å–º–æ—Ç—Ä
                        </div>
                    </div>
                    {% endif %}
                    <div>
                        <h4 style="margin: 0 0 5px 0; color: #333;">–§–æ—Ç–æ #{{ photo.id }}</h4>
                        <p style="margin: 0; color: #666; font-size: 14px;">
                            –°–æ–±—ã—Ç–∏–µ: {{ photo.event_album.title }}<br>
                            –ö–ª–∞—Å—Å: {{ photo.event_album.school_class.class_name }}<br>
                            –£—á–µ–±–Ω—ã–π –≥–æ–¥: {{ photo.event_album.school_class.year_album.year }}<br>
                            –ó–∞–≥—Ä—É–∑–∏–ª: {{ photo.uploaded_by.username }} ‚Ä¢ {{ photo.uploaded_at|date:"d.m.Y H:i" }}
                        </p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmApprove('photo', {{ photo.id }}, '–§–æ—Ç–æ #{{ photo.id }}')"
                            style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                    </button>
                    <button onclick="confirmReject('photo', {{ photo.id }}, '–§–æ—Ç–æ #{{ photo.id }}')"
                            style="background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                        ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if not pending_years and not pending_classes and not pending_events and not pending_photos %}
    <div style="text-align: center; padding: 60px 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
        <div style="font-size: 48px; margin-bottom: 20px;">‚úÖ</div>
        <h3 style="color: #666; margin-bottom: 15px;">–ù–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h3>
        <p style="color: #888;">–í—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ—à–µ–ª –º–æ–¥–µ—Ä–∞—Ü–∏—é. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</p>
    </div>
    {% endif %}
</div>

<!-- PhotoSwipe –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// –î–∞–Ω–Ω—ã–µ –¥–ª—è PhotoSwipe –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
var moderationPhotoSwipeItems = [
    {% for photo in pending_photos %}
    {
        src: "{{ photo.image.url }}",
        w: 0,
        h: 0
        // –£–±—Ä–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–æ—Ç–æ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—É—Å—Ç–æ–π
    }{% if not forloop.last %},{% endif %}
    {% endfor %}
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
function getImageSize(src) {
    return new Promise(function(resolve, reject) {
        var img = new Image();
        img.onload = function() {
            resolve({
                width: this.naturalWidth,
                height: this.naturalHeight
            });
        };
        img.onerror = reject;
        img.src = src;
    });
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ç–æ –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
function openModerationPhoto(index) {
    var pswpElement = document.querySelectorAll('.pswp')[0];

    var options = {
        index: parseInt(index),
        bgOpacity: 0.9,
        showHideOpacity: true,
        closeOnScroll: false,
        history: false,
        shareEl: false,
        fullscreenEl: true,
        zoomEl: true,
        maxSpreadZoom: 3,
        getDoubleTapZoom: function(isMouseClick, item) {
            return item.initialZoomLevel < 0.7 ? 1 : 1.5;
        },
        imageClickAction: 'zoom',
        tapToToggleControls: true,
        pinchToClose: false,
        // –û—Ç–∫–ª—é—á–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
        addCaptionHTMLFn: function(item, captionEl) {
            return false; // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
        }
    };

    var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, moderationPhotoSwipeItems, options);

    gallery.listen('gettingData', function(index, item) {
        if (item.w < 1 || item.h < 1) {
            getImageSize(item.src).then(function(size) {
                item.w = size.width;
                item.h = size.height;
                gallery.invalidateCurrItems();
                gallery.updateSize(true);
            }).catch(function() {
                item.w = 1200;
                item.h = 800;
                gallery.invalidateCurrItems();
                gallery.updateSize(true);
            });
        }
    });

    // –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä—è—á—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
    gallery.listen('afterInit', function() {
        document.addEventListener('keydown', function(e) {
            if (e.key === 'd' || e.key === 'D') {
                e.preventDefault();
                downloadModerationImage(gallery);
            }
        });
    });

    // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏
    gallery.listen('mouseUsed', function() {
        var frame = gallery.currItem.holder;
        if (frame) {
            frame.addEventListener('wheel', function(e) {
                e.preventDefault();
                if (e.ctrlKey) {
                    var delta = e.deltaY > 0 ? -0.2 : 0.2;
                    var newZoom = Math.max(0.5, Math.min(3, gallery.currItem.initialZoomLevel + delta));
                    gallery.zoomTo(newZoom, {x: e.clientX, y: e.clientY}, 200);
                } else {
                    if (gallery.currItem.initialZoomLevel > 1) {
                        var currentPanY = gallery.currItem.pan.y;
                        gallery.currItem.pan.y = currentPanY - e.deltaY * 0.5;
                        gallery.updateCurrItem();
                    }
                }
            }, { passive: false });
        }
    });

    gallery.init();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
function downloadModerationImage(gallery) {
    if (!gallery) return;

    var item = gallery.currItem;
    var currentIndex = gallery.getCurrentIndex();
    var link = document.createElement('a');
    link.href = item.src;
    link.download = 'moderation_photo_' + (currentIndex + 1) + '.jpg';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);

    showModerationDownloadNotification(gallery);
}

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
function showModerationDownloadNotification(gallery) {
    var counterEl = gallery.ui.element.querySelector('.pswp__counter');
    if (counterEl) {
        var originalText = counterEl.textContent;
        counterEl.textContent = '–°–∫–∞—á–∏–≤–∞–Ω–∏–µ...';
        counterEl.style.color = '#4CAF50';

        setTimeout(function() {
            counterEl.textContent = originalText;
            counterEl.style.color = '';
        }, 800);
    }
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
function confirmApprove(type, id, name) {
    const typeNames = {
        'year': '—É—á–µ–±–Ω—ã–π –≥–æ–¥',
        'class': '–∫–ª–∞—Å—Å',
        'event': '—Å–æ–±—ã—Ç–∏–µ',
        'photo': '—Ñ–æ—Ç–æ'
    };

    if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –û–î–û–ë–†–ò–¢–¨ "${name}"?\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å–¥–µ–ª–∞–µ—Ç ${typeNames[type]} –≤–∏–¥–∏–º—ã–º –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.`)) {
        window.location.href = `/moderation/${type}/${id}/approve/`;
    }
}

function confirmReject(type, id, name) {
    const typeNames = {
        'year': '—É—á–µ–±–Ω—ã–π –≥–æ–¥',
        'class': '–∫–ª–∞—Å—Å',
        'event': '—Å–æ–±—ã—Ç–∏–µ',
        'photo': '—Ñ–æ—Ç–æ'
    };

    if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –û–¢–ö–õ–û–ù–ò–¢–¨ "${name}"?\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å–∫—Ä–æ–µ—Ç ${typeNames[type]} –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.`)) {
        window.location.href = `/moderation/${type}/${id}/reject/`;
    }
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–ª–∞–≤–∏—à
document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
        if (button.textContent.includes('‚úÖ')) {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.05)';
                this.style.transition = 'all 0.2s';
            });
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        }
        if (button.textContent.includes('‚ùå')) {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.05)';
                this.style.transition = 'all 0.2s';
            });
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        }
    });
});
</script>

<style>
/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ */
button[onclick*="confirmApprove"]:hover {
    background: #218838 !important;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
}

button[onclick*="confirmReject"]:hover {
    background: #c82333 !important;
    box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
}

/* –£–ª—É—á—à–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ PhotoSwipe */
.pswp__img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

/* –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ PhotoSwipe */
.pswp__caption {
    display: none !important;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è */
@media (max-width: 768px) {
    .moderation-item {
        flex-direction: column;
        gap: 15px;
    }

    .moderation-actions {
        justify-content: center;
    }
}
</style>
{% endblock %}
