{% extends 'base.html' %}

{% block title %}{{ year.year }} - –§–æ—Ç–æ–∞—Ä—Ö–∏–≤ —à–∫–æ–ª—ã ‚Ññ2086{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
    <h1 class="page-title" style="margin-bottom: 0;">{{ year.year }} —É—á–µ–±–Ω—ã–π –≥–æ–¥</h1>
    <a href="{% url 'home' %}" class="btn" style="background: #6c757d; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none;">
        ‚Üê –ù–∞–∑–∞–¥
    </a>
</div>

{% if classes %}
<div class="classes-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px;">
    {% for class in classes %}
    <div class="class-card" style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s ease;"
         onclick="location.href='{% url 'class_detail' class.id %}'">
        <h3 style="color: #cb5603; margin-bottom: 15px;">{{ class.class_name }}</h3>

        <div style="margin-bottom: 15px;">
            <span style="color: #666; font-size: 14px;">
                üìÖ {{ class.approved_events_count }} —Å–æ–±—ã—Ç–∏–π
            </span>
        </div>

        <div style="color: #888; font-size: 13px;">
            –°–æ–∑–¥–∞–Ω–æ: {{ class.created_by.username }}<br>
            {{ class.created_at|date:"d.m.Y" }}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div style="text-align: center; padding: 60px 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
    <div style="font-size: 48px; margin-bottom: 20px;">üè´</div>
    <h3 style="color: #666; margin-bottom: 15px;">–ü–æ–∫–∞ –Ω–µ—Ç –∫–ª–∞—Å—Å–æ–≤</h3>
    <p style="color: #888; margin-bottom: 25px;">–ö–ª–∞—Å—Å—ã –¥–ª—è —ç—Ç–æ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–ª–∏ –Ω–µ –æ–¥–æ–±—Ä–µ–Ω—ã</p>
    {% if user.is_authenticated %}
    <a href="{% url 'create_class' %}" class="btn" style="background: #cb5603; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none;">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –∫–ª–∞—Å—Å
    </a>
    {% endif %}
</div>
{% endif %}
{% endblock %}
